<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Olx Rapo</title>
  <link rel="stylesheet" href="styles/car.css" />
  <link rel="stylesheet" href="styles/navbar.css" />
  <link rel="stylesheet" href="./styles/filter.css">
</head>

<body>
  <div id="maindesai">
    <div id="igdiv">
      <img src="https://logos-world.net/wp-content/uploads/2022/04/OLX-Symbol.png" alt="" id="logoimage" />
    </div>
    <select name="" id="location">
      <option value="">India</option>
      <option value="">Delhi</option>
      <option value="">Karnataka</option>
      <option value="">West Bengal</option>
      <option value="">Maharashtra</option>
    </select>
    <div id="searchp">
      <input type="text" placeholder="Find Cars, Mobile Phones and more..." id="psearch" />
      <!-- <div></div> -->
    </div>
    <select name="" id="planguage">
      <option value="">English</option>
      <option value="">Hindi</option>
    </select>
    <a id="loginanc" href="login.html">Login</a>
    <button id="psell">+ SELL</button>
  </div>
  <!-- ----------------------------------next div------------------------------------ -->
  <div id="pnextdiv">
    <div id="pnextdiv">
      <a href="allCar.html">Cars</a>
      <a href="">Motorcycles</a>
      <a href="">Mobile Phones</a>
      <a href="">For Sale: Houses & Apartments</a>
      <a href=" ">Scooters</a>
      <a href="">Commercial & Other Vehicles</a>
      <a href="">For Rent: Houses & Apartments</a>
    </div>
  </div>
  <div id="Parent_h">

    <div id="h_container_first">
      <!-- For city -->
      <hr>
      <div id="citydiv_h">
        <p>Select City</p>
        <select name="" id="city_h" onchange="filter()">
          <option value="India">India</option>
          <option value="Delhi">Delhi</option>
          <option value="Karnataka">Karnataka</option>
          <option value="West Bengal">West Bengal</option>
          <option value="Maharashtra">Maharashtra</option>
        </select>
      </div>
      <hr>

      <!-- For brand and modle -->
      <div id="filtering_h">
        <p>Car Name</p>
        <select name="" id="brnd_h" onchange="a_checkwithBrand()">
          <option value="Select Car">Select Car</option>
          <option value="hyundai creta (2018)">Hyundai Creta</option>
          <option value="Thar">Thar</option>
          <option value="volvo s60">Volvo S60</option>
          <option value="bentley continental gt">Bentley Continental GT</option>
          <option value="mercedes-benz gle class">Mercedes Benz GLE </option>
          <option value="hyundai santro xing">Hyundai Santro Xing</option>
          <option value="honda cr-v">Honda CR-V</option>
          <option value="volkswagen polo">Volkswagen Polo</option>
          <option value="Maruti suzuki swift">Maruti Suzuki Swift</option>
          <option value="mahindra xuv500">Mahindra XUV500</option>
          <option value="maruti suzuki vitara brezza">Maruti Suzuki Vitara Brezza</option>
          <option value="mahindra bolero">Mahindra Bolero</option>
        </select>
      </div>
      <hr>
      <!-- Price -->
      <div id="pricediv_h">
        <p>Select Price</p>
        <button id="a_price_1l" onclick="a_checkwithPrice_1l()">Bellow 1 Lac</button><br><br>
        <button id="a_price_2l" onclick="a_checkwithPrice_2l()">1 Lac - 2 Lac</button><br><br>
        <button id="a_price_3l" onclick="a_checkwithPrice_3l()">2 Lac - 3 Lac</button><br><br>
        <button id="a_price_4l" onclick="a_checkwithPrice_4l()">3 Lac - 5 Lac</button><br><br>
        <button id="a_price_5l" onclick="a_checkwithPrice_5l()">5 Lac and Above</button><br><br>
      </div>
      <hr>
    </div>

    <div id="h_container">

    </div>
  </div>
  <div id="pfooter">
    <div>
      <h5>POPULAR LOCATIONS</h5>
      <span> Kolkata</span>
      <span>Mumbai</span>
      <span> Chennai</span>
      <span> Pune</span>
    </div>
    <div>
      <h5>TRENDING LOCATIONS</h5>
      <span>Bhubaneshwar</span>
      <span>Hyderabad</span>
      <span>Chandigarh</span>
      <span>Nashik</span>
    </div>
    <div>
      <h5>ABOUT US</h5>
      <span>About OLX Group</span>
      <span>Careers</span>
      <span>Contact Us</span>
      <span>OLXPeople</span>
      <span>Waah Jobs</span>
    </div>
    <div>
      <h5>OLX</h5>
      <span>Help</span>
      <span>Sitemap</span>
      <span>Legal & Privacy information</span>
      <span>Blog</span>
    </div>
    <div id="picons">
      <h5>FOLLOW US</h5>

      <svg id="fbicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
        <path
          d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" />
      </svg>
      <svg id="instaicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
        <path
          d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" />
      </svg>
      <svg id="twittericon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
        <path
          d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
      </svg>
      <svg id="yticon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
        <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
        <path
          d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z" />
      </svg>
    </div>
  </div>
  <div id="pfooter1">
    <h4>Other Countries</h4>
    <p>Pakistan - South Africa - Indonesia</p>
    <h4>Free Classifieds in India. © 2006-2022 OLX</h4>
  </div>
</body>

</html>
<script>
  //https://sleepy-thicket-35635.herokuapp.com/api/car

  let getData = async () => {
    let url = "https://sleepy-thicket-35635.herokuapp.com/api/car";
    let res = await fetch(url);
    let data = await res.json();
    console.log(data);
    displayData(data);
  };
  getData();

  let displayData = (data) => {
    let box = document.getElementById("h_container");
    box.innerHTML = "";
    data.forEach((el) => {
      const div = document.createElement("div");
      div.setAttribute("class", "div_h");

      const image = document.createElement("img");
      image.src = el.image;
      image.setAttribute("class", "h_img");

      const price = document.createElement("h2");
      price.innerText = `₹ ${el.price}`;

      const km = document.createElement("h4");
      //   km.innerText = el.km;
      km.innerText = `KM - ${el.km}`;

      const brand = document.createElement("h3");
      brand.innerText = el.model;

      const location = document.createElement("p");
      location.innerText = el.location;

      div.append(image, price, km, brand, location);
      div.addEventListener("click", () => {
        goToNextPage(el);
      });
      box.append(div);
    });
  };
  let goToNextPage = (el) => {
    localStorage.setItem("carHirak", JSON.stringify(el));
    window.location.href = "car.html";
  };


  let a_checkwithBrand = async () => {
    let carName = document.getElementById("brnd_h").value;
    if (carName == "Select Car") {
      let res = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`)
      let data = res = await res.json();
      // console.log(data);
      displayData(data)
    }
    else {
      let res = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car?model=${carName}`)
      let data = res = await res.json();
      // console.log(data);
      displayData(data)
    }
  }



  let a_checkwithPrice_1l = async () => {
    let arr = [];
    let url = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`);
    let x = await url.json()
    x.forEach(ele => {
      if (ele.price < 100000) {
        console.log((ele));
        arr.push(ele);
        displayData(arr)
      }
    })

  }

  let a_checkwithPrice_2l = async () => {
    let arr = [];
    let url = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`);
    let x = await url.json()
    x.forEach(ele => {
      if (ele.price > 100000 && ele.price <= 200000) {
        console.log((ele));
        arr.push(ele);
        displayData(arr)
      }
    })

  }

  let a_checkwithPrice_3l = async () => {
    let arr = [];
    let url = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`);
    let x = await url.json()
    x.forEach(ele => {
      if (ele.price > 200000 && ele.price <= 300000) {
        console.log((ele));
        arr.push(ele);
        displayData(arr)
      }
    })

  }

  let a_checkwithPrice_4l = async () => {
    let arr = [];
    let url = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`);
    let x = await url.json()
    x.forEach(ele => {
      if (ele.price > 300000 && ele.price <= 500000) {
        console.log((ele));
        arr.push(ele);
        displayData(arr)
      }
    })

  }

  let a_checkwithPrice_5l = async () => {
    let arr = [];
    let url = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`);
    let x = await url.json()
    x.forEach(ele => {
      if (ele.price > 500000) {
        console.log((ele));
        arr.push(ele);
        displayData(arr)
      }
    })

  }

  let filter = async () => {
    let value = document.getElementById("city_h").value;
    if (value == "India") {
      let res = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car`)
      let data = res = await res.json();
      console.log(data);
      displayData(data)
    }
    else {
      let res = await fetch(`https://sleepy-thicket-35635.herokuapp.com/api/car?location=${value}`)
      let data = res = await res.json();
      console.log(data);
      displayData(data)
    }

  }


</script>